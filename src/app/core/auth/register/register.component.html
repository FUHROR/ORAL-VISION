<section class="min-h-[85vh] flex items-center bg-gray-50">
  <div class="grid md:grid-cols-2 gap-16 max-w-6xl mx-auto px-6 w-full">
    <!-- ============ Left Side ============ -->
    <div class="hidden md:flex flex-col justify-center items-center text-center">
      <!-- Dental AI Illustration -->
      <div class="w-72 mb-8">
        <svg viewBox="0 0 200 200" class="w-full">
          <circle cx="100" cy="100" r="90" fill="#E6FFFA" />

          <path
            d="M70 60 C60 40, 140 40, 130 60 
               C125 75, 120 110, 115 130 
               C110 150, 90 150, 85 130 
               C80 110, 75 75, 70 60Z"
            fill="#14B8A6"
          />

          <circle cx="85" cy="95" r="4" fill="white" />
          <circle cx="100" cy="105" r="4" fill="white" />
          <circle cx="115" cy="95" r="4" fill="white" />

          <line x1="85" y1="95" x2="100" y2="105" stroke="white" stroke-width="2" />
          <line x1="100" y1="105" x2="115" y2="95" stroke="white" stroke-width="2" />
        </svg>
      </div>

      <h2 class="text-4xl font-semibold text-teal-700 mb-4">Join ORAVISION Today</h2>

      <p class="text-gray-600 text-lg leading-relaxed max-w-md">
        Create your account and unlock smart dental AI tools designed to enhance patient care and
        workflow efficiency.
      </p>
    </div>

    <!-- ============ Right Side (Register Card) ============ -->
    <div class="bg-white rounded-2xl shadow-xl p-10">
      <h1 class="text-center mb-6 font-light text-3xl">Registration</h1>

      <form [formGroup]="registerForm" (ngSubmit)="submitForm()" class="max-w-md mx-auto">
        <!-- Name Input -->
        <div class="relative z-0 w-full mb-5 group">
          <input
            formControlName="name"
            type="text"
            name="name"
            id="name"
            class="block py-2.5 px-0 w-full text-sm text-heading bg-transparent border-0 border-b-2 border-default-medium appearance-none focus:outline-none focus:ring-0 focus:border-[#06b6d4] peer"
            placeholder=" "
            required
          />
          <label
            for="name"
            class="absolute text-sm text-body duration-300 transform -translate-y-6 scale-75 top-3 -z-10 peer-focus:start-0 peer-focus:text-[#06b6d4] peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto"
            >Full Name
          </label>

          @if (registerForm.get('name')?.errors && registerForm.get('name')?.touched) {
            <div
              class="flex p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400"
              role="alert"
            >
              <span class="sr-only">Danger</span>
              <div>
                <ul class="mt-1.5 list-disc list-inside">
                  <li>At least 2 characters (and up to 20 characters)</li>
                  <li>At least one lowercase character</li>
                </ul>
              </div>
            </div>
          }
        </div>

        <!-- Email Input -->
        <div class="relative z-0 w-full mb-5 group">
          <input
            formControlName="email"
            type="email"
            name="floating_email"
            id="floating_email"
            class="block py-2.5 px-0 w-full text-sm text-heading bg-transparent border-0 border-b-2 border-default-medium appearance-none focus:outline-none focus:ring-0 focus:border-[#06b6d4] peer"
            placeholder=" "
            required
          />
          <label
            for="floating_email"
            class="absolute text-sm text-body duration-300 transform -translate-y-6 scale-75 top-3 -z-10 peer-focus:start-0 peer-focus:text-[#06b6d4] peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto"
            >Email address</label
          >

          @if (registerForm.get('email')?.errors && registerForm.get('email')?.touched) {
            <div
              class="flex p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400"
              role="alert"
            >
              <span class="sr-only">Danger</span>
              <div>
                <ul class="mt-1.5 list-disc list-inside">
                  @if (registerForm.get('email')?.errors?.['required']) {
                    <li>Email is required</li>
                  } @else if (registerForm.get('email')?.errors?.['email']) {
                    <li>Must be a valid email address</li>
                  }
                </ul>
              </div>
            </div>
          }
        </div>
        <!-- Phone Input -->
        <div class="relative z-0 w-full mb-5 group">
          <input
            formControlName="phone"
            type="tel"
            name="phone"
            id="phone"
            class="block py-2.5 px-0 w-full text-sm text-heading bg-transparent border-0 border-b-2 border-default-medium appearance-none focus:outline-none focus:ring-0 focus:border-[#06b6d4] peer"
            placeholder=" "
            required
          />
          <label
            for="phone"
            class="absolute text-sm text-body duration-300 transform -translate-y-6 scale-75 top-3 -z-10 peer-focus:start-0 peer-focus:text-[#06b6d4] peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto"
            >Phone</label
          >

          @if (registerForm.get('phone')?.errors && registerForm.get('phone')?.touched) {
            <div
              class="flex p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400"
              role="alert"
            >
              <span class="sr-only">Danger</span>
              <div>
                <ul class="mt-1.5 list-disc list-inside">
                  @if (registerForm.get('phone')?.errors?.['required']) {
                    <li>Phone is required</li>
                  } @else if (registerForm.get('phone')?.getError('pattern')) {
                    <li>Accept only Egypt Phone Number</li>
                  }
                </ul>
              </div>
            </div>
          }
        </div>
        <!-- Password Input -->
        <div class="relative z-0 w-full mb-5 group">
          <input
            formControlName="password"
            [type]="flag ? 'password' : 'text'"
            name="password"
            id="password"
            class="block py-2.5 px-0 w-full text-sm text-heading bg-transparent border-0 border-b-2 border-default-medium appearance-none focus:outline-none focus:ring-0 focus:border-[#06b6d4] peer"
            placeholder=" "
            required
          />
          <label
            for="password"
            class="absolute text-sm text-body duration-300 transform -translate-y-6 scale-75 top-3 -z-10 peer-focus:start-0 peer-focus:text-[#06b6d4] peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto"
            >Password</label
          >

          <span
            (click)="flag = !flag"
            class="absolute top-1/2 end-4 -translate-y-1/2 cursor-pointer"
          >
            @if (flag) {
              <i class="fas fa-eye"></i>
            } @else {
              <i class="fas fa-eye-slash"></i>
            }
          </span>

          @if (registerForm.get('password')?.errors && registerForm.get('password')?.touched) {
            <div
              class="flex p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400"
              role="alert"
            >
              <span class="sr-only">Danger</span>
              <div>
                <ul class="mt-1.5 list-disc list-inside">
                  @if (registerForm.get('password')?.errors?.['required']) {
                    <li>Password is required</li>
                  } @else if (registerForm.get('password')?.getError('pattern')) {
                    <li>Password must be match the pattern</li>
                  }
                </ul>
              </div>
            </div>
          }
        </div>
        <!--    confirm  Password Input -->
        <div class="relative z-0 w-full mb-5 group">
          <input
            formControlName="rePassword"
            type="password"
            name="rePassword"
            id="rePassword"
            class="block py-2.5 px-0 w-full text-sm text-heading bg-transparent border-0 border-b-2 border-default-medium appearance-none focus:outline-none focus:ring-0 focus:border-[#06b6d4] peer"
            placeholder=" "
            required
          />
          <label
            for="rePassword"
            class="absolute text-sm text-body duration-300 transform -translate-y-6 scale-75 top-3 -z-10 peer-focus:start-0 peer-focus:text-[#06b6d4] peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto"
            >Re-Password</label
          >

          @if (this.registerForm.getError('mismatch') && registerForm.get('rePassword')?.touched) {
            <div
              class="flex p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400"
              role="alert"
            >
              <span class="sr-only">Danger</span>
              <div>
                <ul class="mt-1.5 list-disc list-inside">
                  <li>Passwords do not match</li>
                </ul>
              </div>
            </div>
          }
        </div>
        <button
          [disabled]="isLoading"
          type="submit"
          class="text-white bg-[#06b6d4] box-border border border-transparent hover:bg-[#187b8d] focus:ring-4 focus:ring-brand-medium shadow-xs font-medium leading-5 rounded-base text-sm px-4 py-2.5 focus:outline-none"
        >
          Register
          @if (isLoading) {
            <span><i class="fas fa-spinner fa-spin"></i></span>
          }
        </button>
        @if (msgError) {
          <p class="text-red-900 text-center mt-4 p-4 bg-red-200">{{ msgError }}</p>
        }
      </form>
    </div>
  </div>
</section>
